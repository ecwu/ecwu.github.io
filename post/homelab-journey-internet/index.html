<!DOCTYPE html><html lang="en">
    <head>

<link rel="icon" type="image/x-icon" href="https://ecwuuuuu.com/favicon.ico">




<link rel="stylesheet" href="https://ecwuuuuu.com/css/style.min.d7e682eaa8a05ef0970ec045b72cb636786031418cd5c8bc8cdada7da6388d52.css" integrity="sha256-1&#43;aC6qigXvCXDsBFtyy2NnhgMUGM1ci8jNrafaY4jVI=">
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>Homelab：我的赛博积木 - 公网服务 -  ECWU&#39;s Notebook</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Homepage and blog for Zhenghao Wu (ECWU), sharing thoughts on technology, everyday experiences, and photography. Engaging with the community through knowledge sharing.">
<meta name="keywords" content="Homelab,Docker,Container,Images,Service,Self-host">
<meta name="author" content="ECWUUUUU"><script>
  if (localStorage.getItem("current-theme") === null) {
    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
      localStorage.setItem("current-theme", "dark");
      document.documentElement.classList.add('dark')
      change_discussion_color_mode();
    } else {
      localStorage.setItem("current-theme", "light");
      change_discussion_color_mode();
    }
  } else {
    if (localStorage.getItem('current-theme') === 'dark') {
      document.documentElement.classList.add('dark')
    }
  }

  function change_color_mode(){
    if (localStorage.getItem('current-theme') === 'light') {
      document.documentElement.classList.add('dark')
      localStorage.setItem('current-theme', 'dark');
      change_discussion_color_mode();
    } else {
      document.documentElement.classList.remove('dark')
      localStorage.setItem('current-theme', 'light');
      change_discussion_color_mode();
    }
  }
  

  function change_discussion_color_mode(){
    
    const theme = localStorage.getItem('current-theme') === 'light' ? 'light' : 'dark'
    const message = {
  setConfig: {
    theme: theme,
  }
};
    
    const iframe = document.querySelector('iframe.giscus-frame');
    iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
    
  }
  

  document.addEventListener("DOMContentLoaded", () => {
    

    document
      .getElementById("header-theme-button")
      .addEventListener("click", change_color_mode);
  });

</script></head>
    <body class="transition-colors duration-300"><div class="pt-6">
    
    <div class="nav-title flex flex-row flex-wrap gap-2"><a href="https://ecwuuuuu.com/">
    
    <svg class="w-36 fill-gray-900 dark:fill-gray-200" fill="currentColor" viewBox="0 0 204.24 43.44" xmlns="http://www.w3.org/2000/svg">
        <path d="M0,43.08V0.36h18.24v5.76H6.12v12.54h10.56v5.76H6.12v12.54h12.12v6.12H0z"/>
        <path d="M41.64,30.9v2.64c0,1.32-0.25,2.57-0.75,3.75c-0.5,1.18-1.19,2.23-2.07,3.15c-0.88,0.92-1.91,1.65-3.09,2.19  c-1.18,0.54-2.45,0.81-3.81,0.81c-1.16,0-2.34-0.16-3.54-0.48c-1.2-0.32-2.28-0.88-3.24-1.68s-1.75-1.83-2.37-3.09  c-0.62-1.26-0.93-2.87-0.93-4.83V9.84c0-1.4,0.24-2.7,0.72-3.9c0.48-1.2,1.16-2.24,2.04-3.12c0.88-0.88,1.93-1.57,3.15-2.07  C28.97,0.25,30.32,0,31.8,0c2.88,0,5.22,0.94,7.02,2.82c0.88,0.92,1.57,2.01,2.07,3.27c0.5,1.26,0.75,2.63,0.75,4.11v2.4h-6.12  v-2.04c0-1.2-0.34-2.24-1.02-3.12c-0.68-0.88-1.6-1.32-2.76-1.32c-1.52,0-2.53,0.47-3.03,1.41c-0.5,0.94-0.75,2.13-0.75,3.57v21.84  c0,1.24,0.27,2.28,0.81,3.12s1.51,1.26,2.91,1.26c0.4,0,0.83-0.07,1.29-0.21c0.46-0.14,0.89-0.37,1.29-0.69  c0.36-0.32,0.66-0.76,0.9-1.32c0.24-0.56,0.36-1.26,0.36-2.1v-2.1H41.64z"/>
        <path d="M78.36,0.36L72,43.08h-5.76l-4.68-27.72h-0.12l-4.62,27.72h-5.76L44.7,0.36h6.48l3.06,27.12h0.12l4.8-27.12h4.68l4.98,27.78  h0.12l2.94-27.78H78.36z"/>
        <path d="M102,0.36v33.12c0,1.4-0.25,2.69-0.75,3.87c-0.5,1.18-1.21,2.23-2.13,3.15c-0.92,0.92-1.98,1.64-3.18,2.16  c-1.2,0.52-2.48,0.78-3.84,0.78c-1.36,0-2.63-0.26-3.81-0.78c-1.18-0.52-2.23-1.24-3.15-2.16c-0.92-0.92-1.64-1.97-2.16-3.15  c-0.52-1.18-0.78-2.47-0.78-3.87V0.36h6.12v32.52c0,1.52,0.36,2.64,1.08,3.36c0.72,0.72,1.62,1.08,2.7,1.08  c1.08,0,1.98-0.36,2.7-1.08c0.72-0.72,1.08-1.84,1.08-3.36V0.36H102z"/>
        <path d="M127.56,0.36v33.12c0,1.4-0.25,2.69-0.75,3.87c-0.5,1.18-1.21,2.23-2.13,3.15c-0.92,0.92-1.98,1.64-3.18,2.16  s-2.48,0.78-3.84,0.78s-2.63-0.26-3.81-0.78c-1.18-0.52-2.23-1.24-3.15-2.16c-0.92-0.92-1.64-1.97-2.16-3.15  c-0.52-1.18-0.78-2.47-0.78-3.87V0.36h6.12v32.52c0,1.52,0.36,2.64,1.08,3.36c0.72,0.72,1.62,1.08,2.7,1.08  c1.08,0,1.98-0.36,2.7-1.08c0.72-0.72,1.08-1.84,1.08-3.36V0.36H127.56z"/>
        <path d="M153.12,0.36v33.12c0,1.4-0.25,2.69-0.75,3.87c-0.5,1.18-1.21,2.23-2.13,3.15c-0.92,0.92-1.98,1.64-3.18,2.16  c-1.2,0.52-2.48,0.78-3.84,0.78s-2.63-0.26-3.81-0.78c-1.18-0.52-2.23-1.24-3.15-2.16c-0.92-0.92-1.64-1.97-2.16-3.15  c-0.52-1.18-0.78-2.47-0.78-3.87V0.36h6.12v32.52c0,1.52,0.36,2.64,1.08,3.36c0.72,0.72,1.62,1.08,2.7,1.08s1.98-0.36,2.7-1.08  c0.72-0.72,1.08-1.84,1.08-3.36V0.36H153.12z"/>
        <path d="M178.68,0.36v33.12c0,1.4-0.25,2.69-0.75,3.87c-0.5,1.18-1.21,2.23-2.13,3.15c-0.92,0.92-1.98,1.64-3.18,2.16  c-1.2,0.52-2.48,0.78-3.84,0.78c-1.36,0-2.63-0.26-3.81-0.78c-1.18-0.52-2.23-1.24-3.15-2.16c-0.92-0.92-1.64-1.97-2.16-3.15  c-0.52-1.18-0.78-2.47-0.78-3.87V0.36H165v32.52c0,1.52,0.36,2.64,1.08,3.36c0.72,0.72,1.62,1.08,2.7,1.08  c1.08,0,1.98-0.36,2.7-1.08c0.72-0.72,1.08-1.84,1.08-3.36V0.36H178.68z"/>
        <path d="M204.24,0.36v33.12c0,1.4-0.25,2.69-0.75,3.87c-0.5,1.18-1.21,2.23-2.13,3.15c-0.92,0.92-1.98,1.64-3.18,2.16  c-1.2,0.52-2.48,0.78-3.84,0.78s-2.63-0.26-3.81-0.78c-1.18-0.52-2.23-1.24-3.15-2.16c-0.92-0.92-1.64-1.97-2.16-3.15  c-0.52-1.18-0.78-2.47-0.78-3.87V0.36h6.12v32.52c0,1.52,0.36,2.64,1.08,3.36c0.72,0.72,1.62,1.08,2.7,1.08s1.98-0.36,2.7-1.08  c0.72-0.72,1.08-1.84,1.08-3.36V0.36H204.24z"/>
    </svg>
    <p class="sr-only">ECWU Homepage</p>
    
</a></div>
    
<nav aria-label="navbar" class="mb-3 mr-8">
    <ol role="list" class="flex flex-wrap">
        
        
        
        <li>
        <div class="flex items-center justify-center">
            <a href="https://ecwuuuuu.com/" class='mr-2 font-medium text-gray-900 dark:text-gray-200 visited:text-gray-900 dark:visited:text-gray-200'>Home</a>
            
            <svg width="16" height="20" viewBox="0 0 16 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true" class="mr-2 w-4 h-5 fill-gray-300">
                <path d="M5.697 4.34L8.98 16.532h1.327L7.025 4.341H5.697z" />
            </svg>
            
        </div>
        </li>
        
        <li>
        <div class="flex items-center justify-center">
            <a href="https://ecwuuuuu.com/post/" class='mr-2 font-medium text-gray-900 dark:text-gray-200 visited:text-gray-900 dark:visited:text-gray-200'>Posts</a>
            
            <svg width="16" height="20" viewBox="0 0 16 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true" class="mr-2 w-4 h-5 fill-gray-300">
                <path d="M5.697 4.34L8.98 16.532h1.327L7.025 4.341H5.697z" />
            </svg>
            
        </div>
        </li>
        
        <li>
        <div class="flex items-center justify-center">
            <a href="https://ecwuuuuu.com/photography/" class='mr-2 font-medium text-gray-900 dark:text-gray-200 visited:text-gray-900 dark:visited:text-gray-200'>Photos</a>
            
            <svg width="16" height="20" viewBox="0 0 16 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true" class="mr-2 w-4 h-5 fill-gray-300">
                <path d="M5.697 4.34L8.98 16.532h1.327L7.025 4.341H5.697z" />
            </svg>
            
        </div>
        </li>
        
        <li>
        <div class="flex items-center justify-center">
            <a href="https://ecwuuuuu.com/series/" class='mr-2 font-medium text-gray-900 dark:text-gray-200 visited:text-gray-900 dark:visited:text-gray-200'>Series</a>
            
            <svg width="16" height="20" viewBox="0 0 16 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true" class="mr-2 w-4 h-5 fill-gray-300">
                <path d="M5.697 4.34L8.98 16.532h1.327L7.025 4.341H5.697z" />
            </svg>
            
        </div>
        </li>
        
        <li>
        <div class="flex items-center justify-center">
            <a href="https://ecwuuuuu.com/page/about/" class='mr-2 font-medium text-gray-900 dark:text-gray-200 visited:text-gray-900 dark:visited:text-gray-200'>About</a>
            
            <svg width="16" height="20" viewBox="0 0 16 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true" class="mr-2 w-4 h-5 fill-gray-300">
                <path d="M5.697 4.34L8.98 16.532h1.327L7.025 4.341H5.697z" />
            </svg>
            
        </div>
        </li>
        
        <li>
        <div class="flex items-center justify-center">
            <a href="https://ecwuuuuu.com/page/friends/" class='mr-2 font-medium text-gray-900 dark:text-gray-200 visited:text-gray-900 dark:visited:text-gray-200'>Friends</a>
            
            
        </div>
        </li>
        
    </ol>
</nav><div  class="flex items-center space-x-2">
    <div class="w-6 h-6 inline-flex items-center justify-center rounded-lg bg-white dark:bg-black shadow-inner ring-1 ring-black/5">
        <i id="header-theme-button" data-feather="sun" class="site-header-navlink rounded cursor-pointer">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 hidden dark:block fill-gray-900 dark:fill-gray-200" viewBox="0 0 20 20"
                fill="currentColor">
                <path fill-rule="evenodd"
                    d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"
                    clip-rule="evenodd" />
            </svg>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 block dark:hidden fill-gray-900 dark:fill-gray-200" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
              </svg>
        </i>
    </div>
    <span class="dark:hidden text-sm">To Dark Mode</span>
    <span class="hidden dark:block dark:text-gray-200 text-sm">To Light Mode</span>
</div></div>
  <figure class="ml-[-12.5vw] mt-12 mb-12 h-96 w-screen relative overflow-hidden">
    <img class="object-cover object-center w-full h-96" src="https://unsplash.com/photos/tjX_sniNzgQ/download?ixid=MnwxMjA3fDB8MXxhbGx8fHx8fHx8fHwxNjcyMjk2OTQ3&amp;force=true&amp;w=2400" alt="Featured Images">
    
    <figcaption class="text-sm absolute bottom-0 right-0 pr-5 bg-gray-900 text-gray-500 px-2">
      Photo by frank mckenna on Unsplash
    </figcaption>
    
  </figure>
<div class="mb-12 mt-16 w-content">
  <h1 class="text-gray-900 dark:text-gray-200">Homelab：我的赛博积木 - 公网服务</h1>
  

  
  <div class="text-gray-700 dark:text-gray-400">
    <span>
      
      <p><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block" fill="none" viewBox="0 0 24 24"
          stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
        </svg> Zhenghao Wu</p>
      


      

      
      <p>
        
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
        </svg>
        Status: Finished
        
        
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z" />
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z" />
        </svg>
        Importance: 9
        
        
      </p>
      
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2" />
        </svg> <a href="#article-info-card">Post Details</a>
      </p>
      
      
    </span>
  </div>
  
</div>
<div class="w-content bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-400 px-5 py-3">
     
     
     
         
         
             
            
              
        
     
         
         
             
            
              
        
     
         
         
             
            
              
        
     
         
         
             
            
              
        
     
         
        
     
         
        
     
         
        
     
         
        
    
     
        
        
            
            
        
     
        
        
            
            
        
     
        
        
            
            
        
     
        
        
     
        
        
     
        
        
     
        
        
     
        
        
    
     
        <p>This post is part 5 of 8
            in the <b>HomeLab</b> series.</p>
        <p>
        
            
                <a href="https://ecwuuuuu.com/post/nas-ipv6-ddns/">Goto: First Post</a>
                    |
            
            
                <a href="https://ecwuuuuu.com/post/homelab-journey-intranet/">Prev: Homelab：我的赛博积木 - 内网服务</a>
            
        
        
                |
        
        
            <a href="https://ecwuuuuu.com/post/homelab-journey-architecture/">Next:Homelab：我的赛博积木 - 组成与架构</i></a></p>
        
    
  </div>
<main>
<article class="prose dark:prose-invert lg:prose-xl md:prose-lg prose-ul:leading-5 prose-ol:leading-5">
    
<section class="mb-8">
  <details closed class="toc">
    <summary>Table of Contents</summary>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#身份鉴权-ssoauthentik">身份鉴权 (SSO)：Authentik</a></li>
    <li><a href="#资讯获取">资讯获取</a>
      <ul>
        <li><a href="#阅读器miniflux">阅读器：Miniflux</a></li>
        <li><a href="#订阅生成rsshub">订阅生成：RSSHub</a></li>
      </ul>
    </li>
    <li><a href="#代码托管与持续构建">代码托管与持续构建</a>
      <ul>
        <li><a href="#代码托管gitea">代码托管：Gitea</a></li>
        <li><a href="#持续构建平台drone">持续构建平台：Drone</a></li>
      </ul>
    </li>
    <li><a href="#密码管理vaultwarden">密码管理：VaultWarden</a></li>
    <li><a href="#知识库团队工具">知识库/团队工具</a>
      <ul>
        <li><a href="#个人或团队知识库outline">个人或团队知识库：Outline</a></li>
        <li><a href="#团队协作工具youtrack">团队协作工具：YouTrack</a></li>
      </ul>
    </li>
    <li><a href="#辅助工具">辅助工具</a>
      <ul>
        <li><a href="#简易导航栏flame">简易导航栏：Flame</a></li>
        <li><a href="#服务状态监控uptime-kuma">服务状态监控：Uptime Kuma</a></li>
        <li><a href="#万能的数据可视化面板grafana">万能的数据可视化面板：Grafana</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </details>
</section>

    <p>与<a href="https://ecwuuuuu.com/post/homelab-journey-intranet/">内网服务</a>不一样，部署在公网的服务目的性明确：希望能随时随地能访问到。这些服务部署在腾讯云轻量服务器，机房位于广州和香港。</p>
<h2 id="身份鉴权-ssoauthentik">身份鉴权 (SSO)：Authentik</h2>
<blockquote>
<p>涉及的服务：Authentik</p>
</blockquote>
<p>部署在公网的服务，身份鉴权是很重要的一部分：有些资源、计算资源有必要授权后才可以访问。但如果各个系统的账号都分开控制，账号管理肯定非常麻烦。</p>
<p>但我们日常使用各家的平台时，会经常能看到“使用 Microsoft / Google 账号登陆”的选项，点击后会跳转到 Microsoft 或 Google 的页面，并询问你是否授权账号的部分信息（如昵称、邮箱）给平台以创建账号（或确认身份），最后成功登录。这种一个帐号通行的形式就是统一身份认证 SSO。如果能将这种形式复刻在自建的服务上，那一定会有很棒的体验。所以 HomeLab 公网服务部分首先介绍自建的身份鉴权平台 Authentik。</p>

<figure class="w-full">
  <img src="//cdn.ecwuuuuu.com/blog/image/homelab/authentik-ui.png-compressed.webp" alt="alt" class="rounded-lg">

  <figcaption>
  <strong>Authentik </strong>
  将所有支持 SSO 的服务都集中在一处，非 SSO 服务也可以添加进来，可以作为门户网站
  
  
  
  </figcaption>
</figure>

<p>能自建的身份验证平台有许多，<a href="https://goauthentik.io/">Authentik</a>，<a href="https://www.authelia.com/">Authelia</a>，<a href="https://www.keycloak.org/">Keycloak</a> 三者经常被拿出来比较。Keycloak 是红帽 (RedHat) 的开源项目，南科大 CRA 就在使用它做<a href="https://sso.cra.ac.cn/">统一登录服务</a>，Authelia 我了解的比较少；而最后我选择 Authentik 是因为当初看到它开发者在 <a href="https://www.reddit.com/r/selfhosted/comments/ub7dvb/comment/i6o9var/?utm_source=share&amp;utm_medium=web2x&amp;context=3">Reddit 的讨论</a>，开发者坦诚 Authentik 目前对比成熟的 Keycloak 显得比较稚嫩。但得考虑 Authentik 刚起步（2020 年初启动），项目处于活跃的开发阶段。对于我的需求，它的功能也够用。</p>
<blockquote>
<p>最近还发现一个叫 <a href="https://zitadel.com/">ZITADEL</a> 的项目，使用 Go 实现且界面看上去挺不错，如果你也在考虑部署统一登录，以上提到的四个方案都可以做考虑。</p>
</blockquote>
<p>Authentik 支持 OIDC/OAuth2, SAML, LDAP, Proxy 四种 Provider，能覆盖目前绝大多数的统一认证需求：官方在<a href="https://goauthentik.io/integrations/">文档的 Integrations 部分</a>收集了许多服务的配置方法指引。其他没有提到的服务，只要简单了解这几种 Provider 的原理，也能自行配置。</p>
<p>我觉得 Authentik 最可玩的是 Flows/Stages/Policies，基于这三个工具，可以创建流程，来实现邀请注册、多因素认证登录、邮箱验证等功能，但这部分比较复杂，未来会考虑单独写一篇文章介绍。</p>
<blockquote>
<p>我制作了 Authentik 系列教程，<a href="https://ecwuuuuu.com/post/authentik-tutorial-1-introduction-and-install/">点击了解更多</a></p>
</blockquote>
<h2 id="资讯获取">资讯获取</h2>
<blockquote>
<p>涉及的服务：miniflux，RSSHub。已淘汰方案：Tiny Tiny RSS</p>
</blockquote>
<p>我对 RSS 并没有特别的情感，但是为了逃离推荐算法构建的茧房。用 RSS 这一工具，信息的来源从以往的被动接受转变为我主动选择。</p>
<h3 id="阅读器miniflux">阅读器：Miniflux</h3>
<p>最初使用了 Tiny Tiny RSS (TTRSS) 的 <a href="https://ttrss.henry.wang/">Docker 方案</a>，它插件、主题众多，有不少优秀的移动端 APP(第三方)，整体体验良好，使用了将近一年的时间。当 22 年 10 月份的时候，接触到 <a href="https://miniflux.app/">Miniflux</a> 项目，它界面上更加简洁，而且是用 Go 实现的，应该会比用 PHP 实现的 TTRSS 更加的轻量，这些优势促使我切换了阅读器。</p>

<figure class="w-full">
  <img src="//cdn.ecwuuuuu.com/blog/image/homelab/miniflux-ui.png-compressed.webp" alt="alt" class="rounded-lg">

  <figcaption>
  <strong>Miniflux </strong>
  简洁的 RSS 阅读器
  
  
  
  </figcaption>
</figure>

<h3 id="订阅生成rsshub">订阅生成：RSSHub</h3>
<p>除了阅读器，一起配套的服务是 RSSHub，这是一个 RSS 生成器，理论上可以为任意内容生成 RSS 订阅源；随着 RSS 式微，很多媒体/信息来源都不再提供 RSS 订阅的途径，而使用 RSSHub 就可以为这些途径生成一个可以订阅的链接，目前已经支持的信息源和可以从<a href="https://docs.rsshub.app/">官方文档</a>中查看。但如果你不想自建，你也可以使用<a href="https://rsshub.app/">官方部署的 Instance</a> 或是 <a href="https://rssforever.com/">RSS Forever</a> 提供的 Instance。后者还附带了一些抓取要求的 API Key (比如 Twitter)，轻量需求下简单好用。</p>
<h2 id="代码托管与持续构建">代码托管与持续构建</h2>
<blockquote>
<p>涉及的服务：Gitea, Drone</p>
</blockquote>
<p>从 16 年开始使用 Git 之后，写代码几乎都会用利用 Git 进行版本控制。但很多半成品、学习新东西的产物并没有上传到 GitHub 上，而更多的是去了自建的 Git。</p>
<h3 id="代码托管gitea">代码托管：Gitea</h3>

<figure class="w-full">
  <img src="//cdn.ecwuuuuu.com/blog/image/homelab/gitea-ui.png-compressed.webp" alt="alt" class="rounded-lg">

  <figcaption>
  <strong>自建 Gitea </strong>
  界面上挺像 GitHub
  
  
  
  </figcaption>
</figure>

<p>至于用什么自建 Git，现在已经有非常多的选择，GitLab/Gitea/Gogs 比较主流也各有优劣。我之前尝试过 GitLab（见 <a href="https://ecwuuuuu.com/post/self-host-gitlab-instance/">自建 GitLab 踩坑实录</a> 和 <a href="https://ecwuuuuu.com/post/gitlab-updates/">自建 GitLab 配置 SSH 和后续</a>）。最新是部署了 Gitea ，因为它功能齐全的情况下，比较的轻量。</p>
<h3 id="持续构建平台drone">持续构建平台：Drone</h3>
<p>以前一直有听说 GitOps 中的 CI/CD (Continuous Integration and Continuous Delivery/Continuous Deployment 持续集成和持续构建)，但一直没有实践过。但完成将博客和 <a href="https://uichcc.com">HCC 的主页</a> 利用 GitHub Actions 进行自动构建的改造后，开始体验到它的魔力。自己构建的 CI 是利用了 <a href="https://www.drone.io/">Drone</a>，如果你使用的是 Gitea，官方提供了<a href="https://docs.drone.io/server/provider/gitea/">安装教程</a>。我目前使用持续构建主要是进行 Docusaurus 的构建和一些软件的 Docker 镜像构建。CD 部分，因为架构上还没有用到 Kubernetes，加上 Portainer 的 Web Hook 功能需要付费，所以暂时还没有涉足。</p>
<blockquote>
<p>2024.11 Update</p>
<p>Gitea 在 1.21 版本后支持了自己的持续构建 Gitea Actions 的支持（从 1.19 开始可以手动启用）。如果不想额外部署 Drone，可以考虑使用 Gitea Actions。它使用的语法和 GitHub Actions 类似，学习和迁移成本较低。</p>
</blockquote>
<h2 id="密码管理vaultwarden">密码管理：VaultWarden</h2>

<figure class="w-full">
  <img src="//cdn.ecwuuuuu.com/blog/image/homelab/vaultwarden-ui.png-compressed.webp" alt="alt" class="rounded-lg">

  <figcaption>
  <strong>vaultwarden </strong>
  BitWarden 密码管理器，但是是自建的（截图中还是老版本的 VaultWarden，新版本已经将 BitWarden 和 VaultWarden 更彻底的区分开，以避免版权商标带来的问题）
  
  
  
  </figcaption>
</figure>

<p><a href="https://github.com/dani-garcia/vaultwarden">VaultWarden</a> 是 <a href="https://bitwarden.com/">BitWarden</a> 密码管理工具的开源实现，支持 Bitwarden 官方的客户端，但与 Bitwarden 的公司无关。使用 Rust 实现。我本身在使用 BitWarden 的<a href="https://bitwarden.com/pricing/">付费服务</a>。自己部署额外部署有两个原因：提供一个备份的访问渠道；为特定环境下的密码管理需求提供便利。</p>
<p>值得一提是，这个服务端几乎包含了付费端全部的功能。像密码泄露检查、Yubico MFA 等功能，你如果有相应功能提供商的 API，你也可以在自己的 VaultWarden 上体验和 BitWarden 一样的功能。</p>
<h2 id="知识库团队工具">知识库/团队工具</h2>
<blockquote>
<p>涉及的服务：Outline, YouTrack</p>
</blockquote>
<h3 id="个人或团队知识库outline">个人或团队知识库：Outline</h3>

<figure class="w-full">
  <img src="//cdn.ecwuuuuu.com/blog/image/homelab/outline-ui.png-compressed.webp" alt="alt" class="rounded-lg">

  <figcaption>
  <strong>Outline </strong>
  知识库，开源的 Notion 替代，可以自建
  
  
  
  </figcaption>
</figure>

<p>我一直很热衷于尝试团队协作/知识库工具。研究生期间在使用 <a href="https://www.notion.so/">Notion</a> 作为日常使用的笔记工具，后来为了内容的可迁移性更换到了基于 Markdown 的 <a href="https://obsidian.md/">Obsidian</a>。但 Obsidian 还是更偏向于个人知识库，不太适用于团队使用。出于这样的需求，我 22 年中就开始物色新的知识库工具。最后 <a href="https://github.com/outline/outline">Outline</a> 从众多知识库中脱颖而出，成为了一直用到现在的选择。它支持多人协同编辑（如石墨/腾讯文档/Confluence），但又使用了类似 Notion 的模块 （Block） 的设计。</p>
<p>它的用户系统在设计上比较激进，它必须配置统一登录或配置邮件发送以发送一次性登录链接（不支持账号密码登录）。但是它支持的 SSO 服务很多，具体见官方的<a href="https://wiki.generaloutline.com/s/hosting/doc/authentication-7ViKRmRY5o">配置文档</a>。</p>
<p>需要注意的是，目前最新的版本 <code>0.66.3</code> 还不支持数学公式（LaTeX），但是<a href="https://github.com/outline/outline/issues/1038">相关的功能已经合并进主线</a>，相信很快会在下一个发布版本中推出（2024.11 Update：LaTeX 已经在 <a href="https://github.com/outline/outline/releases/tag/v0.67.1">v0.67.1</a> 之后版本支持）。</p>
<h3 id="团队协作工具youtrack">团队协作工具：YouTrack</h3>

  <figure class="w-full">
    <img src="//cdn.ecwuuuuu.com/blog/image/homelab/youtrack-ui.png-compressed.webp" alt="alt" class="rounded-lg">
  
    <figcaption>
    <strong>YouTrack </strong>
    官方演示项目
    
    
    
    </figcaption>
  </figure>

<p><a href="https://hub.docker.com/r/jetbrains/youtrack/">YouTrack</a> 部署来只是为了体验功能，它来自 IntelliJ IDEA 的公司 JetBrains，十个用户以内支持免费自部署。因为没有团队开发软件的需求，我并没有深度体验过，只作为一个灵活很高的看板和信息记录工具，属于是有点小题大做了。</p>
<h2 id="辅助工具">辅助工具</h2>
<blockquote>
<p>涉及的服务：Flame，Uptime Kuma，Grafana</p>
</blockquote>
<h3 id="简易导航栏flame">简易导航栏：Flame</h3>
<p>目前内外网提到的服务就有十几种，如果使用的是端口，那很难全部记住（就算全用域名也容易搞混）。那么一个类似 Hao123 的门户导航站是有必要的。之前在内网，我使用的是 <a href="https://ecwuuuuu.com/post/homelab-journey-intranet#%E6%9C%8D%E5%8A%A1%E9%97%A8%E6%88%B7homarr">Homarr</a>，但 Homarr 没有鉴权、可以随意修改页面的内容。这种形式是不适合部署在公网的。这种情况下，我就选用了 <a href="https://github.com/pawelmalak/flame">Flame</a>。</p>

<figure class="w-full">
  <img src="//cdn.ecwuuuuu.com/blog/image/homelab/flame-ui.png-compressed.webp" alt="alt" class="rounded-lg">

  <figcaption>
  
  简洁的自建开始界面
  
  
  
  </figcaption>
</figure>

<p>Flame 有 Application 和 Bookmark 的概念，显示上，Application会显示在页面的上半部分，且显示尺寸比较大。Bookmarks 显示在页面下半部分，可以归类。两种类似都可以设定名字和一个 <a href="https://materialdesignicons.com/">MDI</a> 图标。每个链接都可以设定为私有或公开。设定管理员密码，只有输入密码后，才可以修改页面上的内容并查看私有链接。</p>
<p>页面上还有附加功能，可以直接进行搜索和显示当地天气，很适合做内网的主页。</p>
<blockquote>
<p>2024.11 Update</p>
<p>我现在已经转向使用另一个项目 <a href="https://github.com/gethomepage/homepage">Homepage</a>。这个项目不提供前端的编辑，而是需要编辑配置文件（文件修改后页面会自动刷新和应用修改）。他的一个特性是内带了许多插件，这些插件经过配置后会通过访问 API 来获取数据，比如 PVE 的占用，下载器的下载速度，和媒体库的播放状态等。</p>
</blockquote>
<h3 id="服务状态监控uptime-kuma">服务状态监控：Uptime Kuma</h3>
<p>各大互联网公司提供的服务状态页，使用 <a href="https://github.com/louislam/uptime-kuma">Uptime Kuma</a> 你也可以获得同款。Uptime Kuma 部署后，可以定期（默认 60 秒）的帮你检查你监控的网页（也允许监控 TCP，UDP），并提供一个状态页进行展示。在服务出现故障时，它还能通过提醒服务告知你（比如 Telegram Bot）。</p>
<p>但除了自建，还有一种“滥用” GitHub 的方式实现服务的状态监控，通过 <a href="https://github.com/upptime/upptime">upptime/upptime</a> 项目，利用 GitHub Actions 定期检查服务状态，用 GitHub Repository 储存历史信息，用 GitHub Pages 来展示状态页，是无成本的一种监控服务状态的方式。但需要注意的是，因为 GitHub Actions 的因素，服务并无法保证准确的一个固定的监控时间间隔，也就是说服务无法访问时，可能无法第一时间感知（但是个人用，也完全是够了）。</p>

 <figure class="w-full">
   <img src="//cdn.ecwuuuuu.com/blog/image/homelab/uptime-kuma-ui.png-compressed.webp" alt="alt" class="rounded-lg">
 
   <figcaption>
   
   服务状态页
   
   
   
   </figcaption>
 </figure>

<h3 id="万能的数据可视化面板grafana">万能的数据可视化面板：Grafana</h3>
<p>这个服务使用的并不多，但是部署了还是可以提一下。Grafana 主要是用于数据的可视化并允许你方便的制作出一个可视化的面板。使用时它连接数据源（可以是传统基于 SQL 的，也可以是时间序列数据库如 <a href="https://prometheus.io/">Prometheus</a>）然后面板中编辑数据的检索语句（Query），然后利用它自带（比如折线图、散点图、文本、列表）或是第三方的插件进行可视化。通过这种方式，可以很方便的生成出一个美观的可视化大屏。</p>

  <figure class="w-full">
    <img src="//cdn.ecwuuuuu.com/blog/image/homelab/grafana-ui.png-compressed.webp" alt="alt" class="rounded-lg">
  
    <figcaption>
    <strong>Grafana </strong>
    可视化服务器 Docker 带宽和资源使用的状态
    
    
    
    </figcaption>
  </figure>

<p>个人使用方面，会将将服务器的状态接口让 Prometheus 抓取，然后使用 Grafana 可视化出来，实时监控服务器的负载和各资源的状态。</p>

</article>
</main>
<div class="pb-10 w-content">
  <div class="bg-white dark:bg-gray-900 drop-shadow-lg overflow-hidden sm:rounded-lg">
    <div class="px-4 py-5 sm:px-6">
      <h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-gray-200">
        <a id="article-info-card"></a>
        Article Card
      </h3>
      <p class="mt-1 text-sm text-gray-500">
        For "<span class="italic">Homelab：我的赛博积木 - 公网服务</span>"
      </p>
    </div>
    <div class="border-t border-gray-200 dark:border-gray-700">
      <dl>
        <table class="border-collapse table-fixed w-full">
          <tbody class="bg-white dark:bg-gray-800">
            
            <tr class="px-4 py-5">
              <th
                class="text-left border-b border-gray-100 dark:border-gray-700 pl-6 dark:text-gray-500 w-1/3 px-4 py-5 text-sm font-medium text-gray-500">
                Author</td>
              <td
                class="border-b font-bold border-gray-100 dark:border-gray-700 p-4 pl-8 text-gray-500 dark:text-gray-400 mt-1 px-4 py-5 text-sm ">
                Zhenghao Wu</td>
            </tr>
            
            
            <tr class="px-4 py-5">
              <th
                class="text-left border-b border-gray-100 dark:border-gray-700 pl-6 dark:text-gray-500 w-1/3 px-4 py-5 text-sm font-medium text-gray-500">
                Publish & Update Date</td>
              <td
                class="font-bold border-b border-gray-100 dark:border-gray-700 p-4 pl-8 text-gray-500 dark:text-gray-400 mt-1 px-4 py-5 text-sm">
                2022-12-30 - <abbr title="Date of last major modification to this page">2024-11-24</abbr></td>
            </tr>
            
            
            <tr class="px-4 py-5">
              <th
                class="text-left border-b border-gray-100 dark:border-gray-700 pl-6 dark:text-gray-500 w-1/3 px-4 py-5 text-sm font-medium text-gray-500">
                Tags</td>
              <td
                class="font-bold border-b border-gray-100 dark:border-gray-700 p-4 pl-8 text-gray-500 dark:text-gray-400 mt-1 px-4 py-5 text-sm">
                
                <a class="rounded inline-block mt-1 mb-1 py-1 px-2 text-xs font-medium text-white bg-gray-900 visited:text-white dark:visited:text-white"
                  href="https://ecwuuuuu.com/tags/homelab">Homelab</a>
                
                <a class="rounded inline-block mt-1 mb-1 py-1 px-2 text-xs font-medium text-white bg-gray-900 visited:text-white dark:visited:text-white"
                  href="https://ecwuuuuu.com/tags/docker">Docker</a>
                
                <a class="rounded inline-block mt-1 mb-1 py-1 px-2 text-xs font-medium text-white bg-gray-900 visited:text-white dark:visited:text-white"
                  href="https://ecwuuuuu.com/tags/container">Container</a>
                
                <a class="rounded inline-block mt-1 mb-1 py-1 px-2 text-xs font-medium text-white bg-gray-900 visited:text-white dark:visited:text-white"
                  href="https://ecwuuuuu.com/tags/images">Images</a>
                
                <a class="rounded inline-block mt-1 mb-1 py-1 px-2 text-xs font-medium text-white bg-gray-900 visited:text-white dark:visited:text-white"
                  href="https://ecwuuuuu.com/tags/service">Service</a>
                
                <a class="rounded inline-block mt-1 mb-1 py-1 px-2 text-xs font-medium text-white bg-gray-900 visited:text-white dark:visited:text-white"
                  href="https://ecwuuuuu.com/tags/self-host">Self-host</a>
                
              </td>
            </tr>
            
            
            
            
            
            
          </tbody>
        </table>
    </div>
  </div>
</div>


<div class="pb-10 w-content ">
  <script src="https://giscus.app/client.js"
          data-repo="ecwu/ecwu.github.io"
          data-repo-id="MDEwOlJlcG9zaXRvcnkxNjQzMzE1NjY="
          data-category="Blog Post Discussion"
          data-category-id="DIC_kwDOCcuALs4CObNl"
          data-mapping="pathname"
          data-reactions-enabled="1"
          data-emit-metadata="0"
          data-input-position="botton"
          data-theme="preferred_color_scheme"
          data-lang="en"
          crossorigin="anonymous"
          async>
  </script>
</div>




<section class="mb-10">
<hr>
<h2 class="text-gray-900 dark:text-gray-200">Related Posts</h2>
<ul class="list-disc list-inside text-gray-900 dark:text-gray-200">
    
    <li><a href="https://ecwuuuuu.com/post/homelab-journey-intranet/">Homelab：我的赛博积木 - 内网服务</a></li>
    
    <li><a href="https://ecwuuuuu.com/post/authentik-tutorial-5-setup-migration/">Authentik 教程系列：服务的迁移</a></li>
    
    <li><a href="https://ecwuuuuu.com/post/authentik-tutorial-4-setup-forwardauth/">Authentik 教程系列：通过反向代理和 ForwardAuth 接入任何应用</a></li>
    
</ul>
</section>

<div>
  <footer class="relative mb-6 text-gray-900 dark:text-gray-200">
    <hr class="pb-5"><div class="flex justify-begin w-full mx-auto mb-2">
  <ul class="flex flex-row justify-begin text-lg space-x-2">
          

      
      <li>
          <a href="https://ecwuuuuu.com/index.xml" aria-label="RSS"
              class="round-button social-button">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="w-5 h-5 fill-gray-700 hover:fill-gray-900 dark:fill-gray-400 dark:hover:fill-gray-200" viewBox="0 0 16 16">
                <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm1.5 2.5c5.523 0 10 4.477 10 10a1 1 0 1 1-2 0 8 8 0 0 0-8-8 1 1 0 0 1 0-2zm0 4a6 6 0 0 1 6 6 1 1 0 1 1-2 0 4 4 0 0 0-4-4 1 1 0 0 1 0-2zm.5 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"/>
              </svg>
          </a>
      </li>
      
  </ul>
</div><p>
      
      Powered by <a href="https://gohugo.io">Hugo</a> and <a href="https://github.com/ecwu/ecwu-theme">ecwu-theme</a>.
      Build by GitHub Actions at: 2025-10-17 16:47 CST.
    </p>
    <p>
      
      &copy;2025
      ECWUUUUU.
      All rights reserved.
      

    </p>
    
    <p>
      <a href="http://beian.miit.gov.cn/"> 粤 ICP 备 17015575 号 - 1</a>
    </p>
    
    <p class="text-sm my-4">
       Google Analytics enabled   | <a href="https://ecwuuuuu.com/page/changelog">site changelog</a>
    </p>
  </footer>
</div>


      <script async src="https://www.googletagmanager.com/gtag/js?id=G-HSPDSQWH5L"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-HSPDSQWH5L');
        }
      </script>


    </body>
</html>
